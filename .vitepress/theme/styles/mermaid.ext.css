/* 通过 CSS 覆盖深色模式下的样式 */
.dark .mermaid {
  filter: brightness(0.9) contrast(1.1);
}

.dark .mermaid .node rect,
.dark .mermaid .node circle,
.dark .mermaid .node ellipse,
.dark .mermaid .node polygon {
  fill: #242424 !important;
  stroke: #3eaf7c !important;
}

.dark .mermaid .node text {
  fill: #e4e6eb !important;
}

.dark .mermaid .edgePath .path {
  stroke: #4abf8a !important;
}

.dark .mermaid .edgeLabel {
  background-color: #242424 !important;
  color: #b0b3b8 !important;
}

/* 确保Mermaid图表在主题切换时平滑过渡 */
.mermaid {
  transition: opacity 0.3s ease;
}

.mermaid[data-rendering] {
  opacity: 0.5;
}

/* 优化深色模式 */
.dark .mermaid svg {
  background-color: transparent !important;
}

/* 确保图表响应式 */
.mermaid svg {
  max-width: 100%;
  height: auto;
}

.mermaid-graph {
  background-image: url('/images/mermaid-background.svg');
  background-repeat: no-repeat;
  background-size: cover;
}

.zenuml,
.styled-mermaid,
.mermaid-container,
[id^='mermaid-'] {
  font-family: XiaolaiMono, LikeJianJianTi, 'PING FANG CHANG AN', JetBrainsMapleMono !important;
}

/* 组件样式继承 */
.zenuml-diagram {
  background: var(--zenuml-bg);
  border: 1px solid var(--zenuml-primary);
}

.mobile-controls {
  .mobile-zoom-controls,
  .mobile-utility-controls,
  .mobile-nav-buttons {
    button {
      width: 30px;
      height: 30px;
    }
  }

  .mobile-zoom-controls {
    .zoom-level {
      display: none;
    }
  }

  .mobile-nav-buttons,
  .mobile-utility-controls {
    display: none;
  }
}

/* .styled-mermaid svg {
    width: 100%;
    height: auto;
    min-height: 320px;
} */
