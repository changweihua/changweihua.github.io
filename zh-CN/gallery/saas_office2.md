---
layout: doc
# 开启推荐
recommended: true
pageClass: gallery-page-class
---

# 办公用品智能领用柜系统管理软件 #

办公用品 SAAS 系统设计方案

## 系统目标 ##

为企事业单位提供办公场景的无人值守领用管理，支持渠道分销和服务商协调，实现库存精准管控与降本增效。系统支持多种认证机制（扫码、人脸、工卡、密码），多识别方式（称重、RFID）等。

## 系统整体架构设计 ##

### 多租户 Sass 架构 ###

Sass是软件即服务（Software as a Service）的缩写，它提供给客户的是一个软件应用程序，客户可以通过云平台使用这个应用程序，无需安装和维护它。Sass应用程序通常提供了Web界面或者API接口，客户可以通过这些接口与应用程序进行交互。

#### Sass的主要特点 ####

- **使用简便**：客户只需要通过浏览器或者移动设备上的应用程序即可使用Sass服务，无需安装和维护软件本身。
- **高度可扩展性**：Sass应用程序通常具备高可扩展性，可以随着客户业务的发展而不断扩展。
- **按需付费**：客户只需要支付所使用的Sass服务的费用，无需购买和维护软件本身。

- 采用数据表租户ID隔离或数据库Schema隔离。
- 自定义配置：租户可独立配置物品规则、审批流程、权限模板。
- 渠道管理：服务商(业务员机制)可管理名下租户客户，提供子账户系统。

### 技术栈 ###

- **后端**: Spring Boot、Mybatis Plus(多数据库兼容)
- **前端**: Vue3、ElementPlus
- **平台**: 采用 Docker 部署
- **通信**: 常见网络标准协议
  - MQTT：保障设备实时状态同步。
  - WebSocket：实现库存变动预警。

> 技术平台不局限于 Java，.NET 也可以。
> 系统技术架构完成后，技术栈须保持稳定，尽量不进行变更。
> 项目后台管理系统前后端分离，结合项目长远规划，采用OIDC实现统一认证授权。
> 用户端采用微信小程序实现快速推广，培养用户。

### AI 集成能力 ###

- **嵌入式视觉识别**：支持柜内摄像头动态盘点，Yolo 算法识别物品变换。
- **智能预警**：缺货自动触发补货工单，指定物品(危化品)领用额度限制等。

## 核心模块 ##

### 设备管理 ###

统一管理智能柜硬件及实时运行状态。

#### 设备档案 ####

- **主要属性**：柜体编号，位置(GPS和物理地址)，识别方式(RFID、称重)，锁控类型，服务商。
- 支持批量导入和渠道分权维护，服务商仅管理自由设备。

#### 状态监控 ####

- **实时看板**：柜门开关记录，网络离线告警，传感器异常(称重误差偏离设定阈值)。
- **远程控制**：强制锁定/解锁(应对突发情况)。

#### 固件升级 ####

- **OTA推送**：差分包增量更新，兼容主流嵌入式硬件，如 RK3588 芯片组。

### 用户管理 ###

多层级组织架构与灵活权限配置。

#### 组织管理 ####

- 集团-分公司-部门三级结构，部门可管理物理仓库。

#### 用户生命周期 ####

- 批量导入员工数据。
- 同步AD、LDAP(非必须)

#### 认证方式 ####

- 单因子认证：支持扫码(手机已提前授权)，人脸，密码等单因子认证。

### 仓储管理 ###

全品类物资精细化管理。

|  字段  |  说明  |  场景示例  |
|  :---:  |  :----:  |  :----:  |
|  物品ID  |  全局唯一编码  |  RFID标签号/视觉特征码  |
|  安全阈值  |  领用限制  |  可配置  |
|  动态识别策略  |  按物品类型切换识别技术  |  可配置  |
|  有效期跟踪  |  近失效期自动提醒  |  可配置  |

- 溯源码/RFID，全流程溯源，记录物品的每一个节点
- 物品存储条件，限制。

#### 智能仓库联动 ####

- 库存水位线：设置安全库存，触发自动采购单。
- 跨柜调拨：根据物资热度，自动调拨物资(如办公物品向楼层高使用率智能柜倾斜)。

> 一期跨柜调拨功能实现方案：采取补货负数取货，从其他柜子补货。

### 权限管理 ###

场景化权限控制

#### RBAC 和 ABAC 融合模型 ####

- 角色模板：预设管理员，审批员，普通用户角色。
- 动态策略：限制领用时段(如非工作时间)。
- 审批引擎：配置单级审批或指定审批角色。

#### 审批引擎 ####

- 可配置：按物品价值类型/触发多级审批(低值直接领取，高值须逐级审批或部门主管签字)。

### 应用中心 ###

生态集成与扩展能力。

#### API 开发平台 ####

- 设备接入标准：提供SDK对接各种智能柜和第三方智能柜。
- 业务系统对接：对接钉钉，飞书等办公系统，可同步至ERP/MES。

#### 智能硬件支持 ####

- 安卓主板、单片机。

### 个人中心 ###

员工自助与数据沉淀。

#### 移动端兼容 ####

- 首批采取微信小程序，对于使用钉钉等其他办公平台可进一步投入开发。
- 领用记录查询：实时查看历史领用明细和库存分布。
- 在线申诉：对异常扣款/权限冻结发起工单。(**是否需要涉及支付？**)

#### 数据看板 ####

- 个人利用报告：耗材消耗趋势分析，超标自动提醒。

## 技术实现关键要求 ##

### 多识别技术适配 ###

- 称重柜：动态去皮算法，消除容器重量干扰。
- RFID柜：抗金属标签优化（五金件密集场景）。

> 一期实现称重柜和货道柜/履带柜。

### 安全与合规 ###

- 数据加密：敏感操作使用国密SM4算法，敏感数据脱敏后网络传输。
- 审计日志：所有操作留痕可溯源（符合ISO27001）。

## 扩展性设计与实施 ##

- 灰度发布机制：新功能按租户分组逐步上线，降低迭代风险。
- 用户引导机制：核心模块须配置功能使用引导，降低用户操作难度。

## 项目规划 ##

### 用户划分 ###

- 运营和管理用户：依托 PC 端和 移动端(不限于微信小程序、钉钉小程序)
- 终端用户：依托微信小程序

### 基础数据管理和平台基础架构 ###

- 智能柜管理
  - 基础信息维护
  - 状态管理
  - OTA管理
- 物品管理
  - 基础信息维护
  - 物品溯源
  - 标签管理
  - 物品类型管理
  - RFID 芯片管理
- 组织/人员管理
  - 服务商管理
  - 组织、用户管理
  - 批量导入，批量更新
  - 加密与脱敏
- 审批管理
  - 库存管理
- 审计管理
  - 日志管理
- 统一认证授权管理
  - OIDC 认证机制
  - RBAC 权限管理
    - 角色管理
    - 模块管理
    - 权限配置
- 报表管理
  - 实时大屏：包含智能柜运行状态、物品动态库存统计、高频畅销等热门指标等数据。
  - 报告管理
    - 用户报告订阅管理
    - 按日、周、月等维度生成相关报告，推送至订阅用户
    - 推送平台可扩展至微信、钉钉、飞书等社交及办公平台

### 关键技术 ###

- 智能称重：基于 MQTT 协议，推送客户端设备状态及接收服务端反馈。
- RFID: 终端守护配备手持设备，轨道设备配备识别龙门架。**芯片属于耗材**
- 人脸识别：支持 seetaface6 等。

## 项目第一阶段规划 ##

### 阶段目标 ###

- 完成系统的基础功能开发和测试，主要包含智能柜、物品、用户与组织等基础数据维护，日报、月报等基础统计报表报表展示。
- 系统采取`JWT`认证配合`RBAC`授权机制，完成整个平台的认证与授权功能。

### 整体功能 ###

- **平台**：
  - 后台管理系统
    - 智能柜管理
      - 基础信息维护
      - 状态管理
    - 物品管理
      - 基础信息维护
      - 物品类型管理
      - 标签管理
    - 组织、人员管理
      - 服务商管理
      - 组织、用户管理，支持批量操作
    - 审计管理
      - 日志管理
      - 数据脱敏
    - 统一认证授权管理
      - JWT 认证机制
      - RBAC 权限管理
        - 角色管理
        - 模块管理
        - 权限配置
    - 报表管理
      - 实时大屏：包含智能柜运行状态、物品动态库存统计、高频畅销等热门指标等数据。
      - 报告管理
        - 用户报告订阅管理
        - 按日、周、月等维度生成相关报告，推送至订阅用户
        - 推送平台可扩展至微信、钉钉、飞书等社交及办公平台
  - 用户端
    - 采用微信小程序，用于用户端，管理人员端操作，终端用户更易接受，须配备应用服务器及域名资源，同时申请和认证相关小程序。
    - 用户采用手机注册，采取白名单机制，只允许系统内的用户进行注册和绑定。

### 技术选型 ###

- 微信小程序，满足用户终端的快速推广。
- ASPNET 8 和 Vue3、Ant Design 4，跨平台和自适应显示。
- 基于 Docker 的容器化部署方案，统一部署环境。
- 智能称重：基于 MQTT 协议，推送客户端设备状态及接收服务端反馈。

### 网络架构 ###

![示例图](/images/cmono-TA3BXGFPNSPL8JT7.png)
