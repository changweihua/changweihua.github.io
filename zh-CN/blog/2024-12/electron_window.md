---
lastUpdated: true
commentabled: true
recommended: true
title: Electron çª—å£å†…å­˜æ³„æ¼é—®é¢˜åˆ†æä¸è§£å†³
description: Electron çª—å£å†…å­˜æ³„æ¼é—®é¢˜åˆ†æä¸è§£å†³
date: 2024-12-25 10:18:00
pageClass: blog-page-class
---

# Electron çª—å£å†…å­˜æ³„æ¼é—®é¢˜åˆ†æä¸è§£å†³ #

## å‰è¨€ ##

æœ€è¿‘åœ¨ Electron é¡¹ç›®ä¸­ï¼Œéœ€è¦è·‘ä¸€ä¸ªé˜Ÿåˆ—ä»»åŠ¡ï¼Œæ‰§è¡Œä»»åŠ¡æ—¶ï¼Œéœ€è¦åˆ›å»ºçª—å£`ï¼ˆconst window = new BrowserWindow()ï¼‰`ï¼Œä»»åŠ¡æ‰§è¡Œå®Œæˆåå†é”€æ¯çª—å£å®ä¾‹ï¼Œå³é¢‘ç¹åœ°åˆ›å»ºä¸é”€æ¯çª—å£ï¼Œå› ä¸ºæ¯æ¬¡ä»»åŠ¡çš„æ‰§è¡Œéƒ½éœ€è¦ä¸€ä¸ªå¹²å‡€çš„çª—å£è¿è¡Œç¯å¢ƒã€‚
è™½ç„¶é€»è¾‘ç®€å•æ¸…æ™°ï¼Œä½†æ˜¯è°ƒç”¨ `window.close()` æˆ–è€… `window.destroy()` åï¼Œåº”ç”¨å ç”¨çš„å†…å­˜å¹¶æ²¡æœ‰é”€æ¯ï¼Œç›´åˆ°æ‰§è¡Œ 100+ æ¬¡ä»»åŠ¡åï¼Œå‘ç°å†…å­˜å·²ç»æ¥è¿‘ 100% ä½¿ç”¨ç‡ã€‚

## åˆ†æ ##

1ã€æŸ¥æ‰¾åˆ° Electron ä»“åº“ä¸€ä¸ª [issue](https://github.com/electron/electron/issues/21586) ä¹Ÿæ˜¯é¢‘ç¹åˆ›å»ºä¸é”€æ¯çª—å£å®ä¾‹å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œç›®å‰è¿˜æ²¡æœ‰ç»“è®ºã€‚

2ã€æ ¹æ®è‡ªèº«é¡¹ç›®çš„é€»è¾‘æ€è€ƒğŸ¤”ï¼Œç‹¬ç«‹çš„çª—å£æ˜¯é€šè¿‡ `session.fromPartition('uid')` åˆ›å»ºä¸€ä¸ªç‹¬ç«‹ session ä¼šè¯å®ç°çš„ï¼Œè€Œ `window.destroy()` åº”è¯¥åªæ˜¯é”€æ¯äº†è‡ªèº«çš„ä¸€äº›ä¸œè¥¿ï¼Œsession ä¼šè¯å†…çš„ç›¸å…³æ•°æ®å¯èƒ½å¹¶æ²¡æœ‰é”€æ¯ã€‚
æŠ±ç€å°è¯•çš„æ€åº¦ï¼Œè¯•äº†è¯• `session.clearData()`ï¼Œç»“æœè®©äººæ»¡æ„ã€‚

> ä¸ºä»€ä¹ˆä¸æ˜¯ clearCacheã€clearStorageDataï¼Œå› ä¸º clearData åŒ…å«äº†å®ƒä»¬ä¸¤è€…ä»¥åŠæ›´å¤šçš„æ•°æ®æ¸…é™¤ã€‚

## å®Œæ•´ä»£ç ç¤ºä¾‹ ##

### é”€æ¯æ—¶ä¸»åŠ¨è§¦å‘ ###

```ts
async close() {
    // æ¸…é™¤äº‹ä»¶
    window.webContents.removeAllListeners()
    // æ¸…é™¤ Cookiesã€Storageã€å†…å­˜ç­‰æ•°æ®
    await window.webContents.session.clearData()
    // é”€æ¯çª—å£
    window.destroy()
}
```

## æœ€ç»ˆ ##

ç»è¿‡å°è¯•ï¼Œä»è¿è¡Œå¿«å æ»¡æ•´ä¸ªå†…å­˜ï¼Œé™åˆ°ç°åœ¨ç»´æŒåœ¨æ­£å¸¸æ°´å¹³ 16% å·¦å³ï¼Œå®Œç¾è§£å†³ã€‚
